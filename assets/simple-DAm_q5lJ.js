import{r as t,g as K,a as ee,d as C,u as se,j as e,W as f,c as ne,R as ae}from"./index-KvUfb6bY.js";const r={input:"#1aad50",I:"#2563eb",Q:"#dc2626",output:"#7c3aed"},te=["sine","cosine","square","sawtooth"];function D(a){return te.includes(a)}function w(a,F){const z=Math.max(1,Math.floor(a.length/2e3)),y=[];for(let o=0;o<a.length;o+=z){const b={t:a[o]};for(const[I,Q]of Object.entries(F))b[I]=Q[o];y.push(b)}return y}function le(){const[a,F]=t.useState("am"),[g,z]=t.useState(55),y=1,[o,b]=t.useState(100),[I]=t.useState(4),[Q]=t.useState(1),[v,q]=t.useState(20),[k,R]=t.useState(150),[x,A]=t.useState(5),d=t.useMemo(()=>D(a)?g:a==="chirp"?x:o,[a,g,o,x]),P=2e3,W=.3,[u,U]=t.useState({input:!0,I:!0,Q:!0}),T=s=>U(l=>({...l,[s]:!l[s]})),[n,Y]=t.useState(null),B=t.useMemo(()=>D(a)?{frequency:g,amplitude:y}:a==="chirp"?{carrierFreq:x,chirpEndFreq:k}:a==="am"?{carrierFreq:o,modulatingFreq:v,modulationIndex:Q}:{carrierFreq:o,modulatingFreq:v,modulationIndex:I},[a,g,y,o,v,Q,I,x,k]),c=t.useMemo(()=>{const s=K(P,W),l=ee(a,s,B),{I:i,Q:p}=C(l,s,d),j=se(i,p,s,d);return{t:s,inputSignal:l,rawI:i,rawQ:p,reconstructed:j}},[a,B,d,P,W]),_=t.useMemo(()=>w(c.t,{input:c.inputSignal}),[c]),V=t.useMemo(()=>w(c.t,{input:c.inputSignal,I:c.rawI,Q:c.rawQ}),[c]),X=t.useMemo(()=>w(c.t,{input:c.inputSignal,output:c.reconstructed}),[c]),S=t.useMemo(()=>{const i=K(2e3,.15),p=new Float64Array(i.length),j=new Float64Array(i.length);for(let h=0;h<i.length;h++)p[h]=Math.cos(2*Math.PI*115*i[h]),j[h]=Math.cos(2*Math.PI*85*i[h]);const m=C(p,i,100),$=C(j,i,100),M=(h,G=40)=>{const O=new Float64Array(h.length);for(let N=0;N<h.length;N++){let L=0,J=0;for(let H=Math.max(0,N-G);H<=Math.min(h.length-1,N+G);H++)L+=h[H],J++;O[N]=L/J}return O};return{t:i,aboveDown:{I:M(m.I),Q:M(m.Q)},belowDown:{I:M($.I),Q:M($.Q)}}},[]),E=t.useMemo(()=>{const{t:s,aboveDown:l,belowDown:i}=S,p=new Float64Array(s.length),j=new Float64Array(s.length);for(let m=0;m<s.length;m++)p[m]=Math.cos(2*Math.PI*115*s[m]),j[m]=Math.cos(2*Math.PI*85*s[m]);return w(s,{sigAbove:p,sigBelow:j,aboveI:l.I,belowI:i.I})},[S]),Z=t.useMemo(()=>{const{t:s,aboveDown:l,belowDown:i}=S;return w(s,{aboveI:l.I,aboveQ:l.Q,belowI:i.I,belowQ:i.Q})},[S]);return e.jsxs("div",{className:"app",children:[e.jsxs("header",{className:"app-header",children:[e.jsx("h1",{children:"Quadrature Signal Lab"}),e.jsxs("p",{children:["Interactive quadrature (",e.jsx("span",{style:{color:"#2563eb"},children:"I"}),"/",e.jsx("span",{style:{color:"#dc2626"},children:"Q"}),") sampling simulator"]})]}),e.jsxs("div",{className:"info-panel",children:[e.jsx("h3",{children:"What is Quadrature Sampling?"}),e.jsxs("p",{children:["Quadrature sampling splits a real signal into two orthogonal components: the ",e.jsx("strong",{style:{color:"#2563eb"},children:"In-phase (I)"})," and"," ",e.jsx("strong",{style:{color:"#dc2626"},children:"Quadrature (Q)"})," channels. The input signal is multiplied by"," ",e.jsxs("span",{className:"math",children:["cos(2Ï€Â·f",e.jsx("sub",{children:"c"}),"Â·t)"]})," ","to get ",e.jsx("strong",{style:{color:"#2563eb"},children:"I"}),", and by"," ",e.jsxs("span",{className:"math",style:{color:"#dc2626"},children:["âˆ’sin(2Ï€Â·f",e.jsx("sub",{children:"c"}),"Â·t)"]})," ","to get ",e.jsx("strong",{style:{color:"#dc2626"},children:"Q"}),". Together, ",e.jsx("strong",{style:{color:"#2563eb"},children:"I"})," and ",e.jsx("strong",{style:{color:"#dc2626"},children:"Q"})," fully represent the signal's amplitude and phase at baseband."]}),e.jsx("h3",{style:{marginTop:16},children:"Why bother?"}),e.jsxs("p",{children:["A one-dimensional sample only captures amplitude â€” you lose all phase information. With ",e.jsx("strong",{style:{color:"#2563eb"},children:"I"}),"/",e.jsx("strong",{style:{color:"#dc2626"},children:"Q"}),", you preserve both, which is essential for demodulating FM, decoding digital modulation (PSK, QAM), measuring Doppler shift, and doing direction-finding. Every SDR receiver, radar system, and modern communications link uses quadrature sampling â€” without it, no receiver could tell the difference between a signal above and below its tuned frequency, and digital receivers couldn't distinguish between symbols that differ only in phase."]}),e.jsx("h3",{style:{marginTop:16},children:"Why not just digitize the original signal?"}),e.jsx("p",{children:`Real RF signals live at very high frequencies â€” 100 MHz, 2.4 GHz, and beyond. No ADC can sample that fast, and even if it could, you'd waste enormous bandwidth capturing frequencies you don't care about. I/Q downconversion shifts just the slice of spectrum you're interested in down to baseband (near 0 Hz), where it can be sampled at a manageable rate. The "original signal" only exists as an analog waveform on a wire or antenna â€” the I/Q representation is how you digitize it efficiently. Without it, software-defined radio, Wi-Fi, 4G/5G, GPS, radar, and satellite communications wouldn't be practical.`}),e.jsx("p",{style:{marginTop:8},children:"This simulator uses low frequencies (Hz instead of MHz) so you can see the waveforms directly, but the math is identical to what happens inside every real receiver."}),e.jsx("h3",{style:{marginTop:16},id:"image-frequency",children:"The image frequency problem"}),e.jsxs("p",{children:["Two different signals â€” one at"," ",e.jsx("span",{className:"math",children:"115 Hz"})," and one at"," ",e.jsx("span",{className:"math",children:"85 Hz"})," â€” mixed with a local oscillator at ",e.jsxs("span",{className:"math",children:["f",e.jsx("sub",{children:"c"})," = 100 Hz"]}),". With only one channel (",e.jsx("strong",{style:{color:"#2563eb"},children:"I"}),"), they're identical. Add the"," ",e.jsx("strong",{style:{color:"#dc2626"},children:"Q"})," channel and the difference is clear."]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:16,marginTop:16},children:[e.jsxs("div",{children:[e.jsx("p",{className:"chart-desc",style:{marginBottom:8,fontWeight:600},children:"Two different input signals"}),e.jsxs("div",{className:"legend",children:[e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#1aad50"}}),"115 Hz"]}),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#7c3aed"}}),"85 Hz"]})]}),e.jsx(f,{data:E,traces:[{key:"sigAbove",color:"#1aad50",label:"115 Hz"},{key:"sigBelow",color:"#7c3aed",label:"85 Hz"}],height:150,yDomain:[-1.2,1.2]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"chart-desc",style:{marginBottom:8,fontWeight:600},children:"Single channel (I only) â€” ambiguous"}),e.jsxs("div",{className:"legend",children:[e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#2563eb"}}),"115 Hz I"]}),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#60a5fa"}}),"85 Hz I"]})]}),e.jsx(f,{data:E,traces:[{key:"aboveI",color:"#2563eb",label:"115 Hz I"},{key:"belowI",color:"#60a5fa",label:"85 Hz I"}],height:150,yDomain:[-1.2,1.2]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"chart-desc",style:{marginBottom:8,fontWeight:600},children:"With I/Q â€” distinguishable"}),e.jsxs("div",{className:"legend",children:[e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#2563eb"}}),"115 Hz I"]}),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#dc2626"}}),"115 Hz Q"]}),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#60a5fa"}}),"85 Hz I"]}),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:"#7c3aed"}}),"85 Hz Q"]})]}),e.jsx(f,{data:Z,traces:[{key:"aboveI",color:"#2563eb",label:"115 Hz I"},{key:"aboveQ",color:"#dc2626",label:"115 Hz Q"},{key:"belowI",color:"#60a5fa",label:"85 Hz I"},{key:"belowQ",color:"#7c3aed",label:"85 Hz Q"}],height:150,yDomain:[-1.2,1.2]})]})]})]}),e.jsxs("div",{className:"section-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"ðŸ“¡ Input Signal"}),e.jsx("p",{className:"section-desc",children:"Generate a signal to feed into the quadrature downconverter"})]}),e.jsxs("div",{className:"section-content",children:[e.jsxs("div",{className:"subsection",children:[e.jsx("h3",{className:"subsection-title",children:"Parameters"}),e.jsxs("div",{className:"controls-grid",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Signal Type"}),e.jsxs("select",{value:a,onChange:s=>{const l=s.target.value;F(l),l==="am"&&(b(100),q(20)),l==="fm"&&(b(100),q(25)),l==="chirp"&&(A(5),R(150))},children:[e.jsxs("optgroup",{label:"Simple",children:[e.jsx("option",{value:"sine",children:"Sine"}),e.jsx("option",{value:"cosine",children:"Cosine"}),e.jsx("option",{value:"square",children:"Square"}),e.jsx("option",{value:"sawtooth",children:"Sawtooth"})]}),e.jsxs("optgroup",{label:"Modulated",children:[e.jsx("option",{value:"am",children:"AM (Amplitude Modulation)"}),e.jsx("option",{value:"fm",children:"FM (Frequency Modulation)"}),e.jsx("option",{value:"chirp",children:"Chirp (Frequency Sweep)"})]})]})]}),D(a)&&e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Frequency"}),e.jsx("input",{type:"range",min:1,max:100,step:1,value:g,onChange:s=>z(Number(s.target.value))}),e.jsxs("span",{className:"control-value",children:[g," Hz"]})]}),(a==="am"||a==="fm")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Carrier Frequency"}),e.jsx("input",{type:"range",min:10,max:100,step:1,value:o,onChange:s=>b(Number(s.target.value))}),e.jsxs("span",{className:"control-value",children:[o," Hz"]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Modulating Frequency"}),e.jsx("input",{type:"range",min:1,max:Math.floor(o/2),step:1,value:v,onChange:s=>q(Number(s.target.value))}),e.jsxs("span",{className:"control-value",children:[v," Hz"]})]})]}),a==="chirp"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Start Frequency"}),e.jsx("input",{type:"range",min:1,max:100,step:1,value:x,onChange:s=>A(Number(s.target.value))}),e.jsxs("span",{className:"control-value",children:[x," Hz"]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"End Frequency"}),e.jsx("input",{type:"range",min:x+10,max:100,step:1,value:k,onChange:s=>R(Number(s.target.value))}),e.jsxs("span",{className:"control-value",children:[k," Hz"]})]})]})]})]}),e.jsxs("div",{className:"subsection",children:[e.jsx("h3",{className:"subsection-title",children:"Waveform Preview"}),e.jsx("div",{className:"legend",children:e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:r.input}}),"Input Signal"]})}),e.jsx(f,{data:_,traces:[{key:"input",color:r.input,label:"Input"}],yDomain:[-1*1.5,y*1.5]})]})]})]}),e.jsxs("div",{className:"section-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"âš¡ I/Q Downconversion"}),e.jsx("p",{className:"section-desc",children:"Mixing with local oscillator"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"subsection",children:[e.jsxs("p",{className:"chart-desc",style:{marginBottom:16,fontFamily:"JetBrains Mono, monospace"},children:[e.jsxs("span",{className:"math",style:{color:"#2563eb"},children:["I = signal(t) Â· cos(2Ï€Â·",d,"Â·t)",(n==null?void 0:n.input)!=null&&(n==null?void 0:n.I)!=null&&` = ${n.input.toFixed(1)} Â· cos(2Ï€Â·${d}Â·${n.t.toFixed(1)}) = ${n.input.toFixed(1)} Â· ${Math.cos(2*Math.PI*d*n.t).toFixed(1)} = ${n.I.toFixed(1)}`]}),e.jsx("br",{}),e.jsxs("span",{className:"math",style:{color:"#dc2626"},children:["Q = signal(t) Â· âˆ’sin(2Ï€Â·",d,"Â·t)",(n==null?void 0:n.input)!=null&&(n==null?void 0:n.Q)!=null&&` = ${n.input.toFixed(1)} Â· âˆ’sin(2Ï€Â·${d}Â·${n.t.toFixed(1)}) = ${n.input.toFixed(1)} Â· ${(-Math.sin(2*Math.PI*d*n.t)).toFixed(1)} = ${n.Q.toFixed(1)}`]})]}),e.jsxs("div",{className:"legend",children:[e.jsxs("label",{className:"legend-toggle",style:{opacity:u.input?1:.4},children:[e.jsx("input",{type:"checkbox",checked:u.input,onChange:()=>T("input")}),e.jsx("span",{className:"legend-dot",style:{background:r.input}}),"Input Signal"]}),e.jsxs("label",{className:"legend-toggle",style:{opacity:u.I?1:.4},children:[e.jsx("input",{type:"checkbox",checked:u.I,onChange:()=>T("I")}),e.jsx("span",{className:"legend-dot",style:{background:r.I}}),"I (In-phase)"]}),e.jsxs("label",{className:"legend-toggle",style:{opacity:u.Q?1:.4},children:[e.jsx("input",{type:"checkbox",checked:u.Q,onChange:()=>T("Q")}),e.jsx("span",{className:"legend-dot",style:{background:r.Q}}),"Q (Quadrature)"]})]}),e.jsx(f,{data:V,traces:[u.input&&{key:"input",color:r.input,label:"Signal"},u.I&&{key:"I",color:r.I,label:"I"},u.Q&&{key:"Q",color:r.Q,label:"Q"}].filter(Boolean),onHover:Y})]})})]}),e.jsxs("div",{className:"section-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"ðŸ”„ Reconstruction"}),e.jsxs("p",{className:"section-desc",children:["Upconvert ",e.jsx("span",{style:{color:"#2563eb"},children:"I"}),"/",e.jsx("span",{style:{color:"#dc2626"},children:"Q"})," back to a real signal and compare with the original"]})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"subsection",children:[e.jsx("p",{className:"chart-desc",style:{marginBottom:16,fontFamily:"JetBrains Mono, monospace"},children:e.jsxs("span",{className:"math",children:[e.jsx("span",{style:{color:"#7c3aed"},children:"output(t)"})," = ",e.jsxs("span",{style:{color:"#2563eb"},children:["I(t)Â·cos(2Ï€Â·",d,"Â·t)"]})," âˆ’ ",e.jsxs("span",{style:{color:"#dc2626"},children:["Q(t)Â·sin(2Ï€Â·",d,"Â·t)"]})]})}),e.jsxs("div",{className:"legend",children:[e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:r.input}}),"Original"]}),e.jsxs("span",{className:"legend-item",children:[e.jsx("span",{className:"legend-dot",style:{background:r.output}}),"Reconstructed"]})]}),e.jsx(f,{data:X,traces:[{key:"input",color:r.input,label:"Original"},{key:"output",color:r.output,label:"Reconstructed"}]})]})})]}),e.jsxs("div",{className:"section-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"ðŸš€ Try it yourself"}),e.jsx("p",{className:"section-desc",children:"Experiment with different signal types and see how I/Q behaves"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"subsection",style:{paddingBottom:20},children:[e.jsxs("p",{style:{fontSize:14,color:"var(--text-secondary)",lineHeight:1.7},children:["Go back to the input signal section and try switching between signal types. Watch how the ",e.jsx("strong",{style:{color:"#2563eb"},children:"I"})," and ",e.jsx("strong",{style:{color:"#dc2626"},children:"Q"})," channels change for each one â€” use the checkboxes to isolate individual traces. Notice how ",e.jsx("strong",{children:"AM"})," produces a slow envelope in I/Q,"," ",e.jsx("strong",{children:"FM"})," creates rapid oscillations, and ",e.jsx("strong",{children:"chirp"})," sweeps through frequencies over time."]}),e.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",lineHeight:1.7,marginTop:12},children:"Ready to see what this looks like in a real receiver? The Real version adds frequency-domain spectrum plots, proper low-pass filtering, and clean constellation diagrams â€” the full pipeline from RF to baseband."}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx("a",{href:"../real/",style:{display:"inline-block",marginTop:16,padding:"10px 24px",background:"#ea580c",color:"#ffffff",borderRadius:8,textDecoration:"none",fontWeight:600,fontSize:14,transition:"background 0.2s"},onMouseEnter:s=>s.target.style.background="#c2410c",onMouseLeave:s=>s.target.style.background="#ea580c",children:"ðŸ“» Switch to Real version"})})]})})]}),e.jsxs("div",{className:"section-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"ðŸ“œ A brief history of I/Q"}),e.jsx("p",{className:"section-desc",children:"How quadrature sampling became the universal standard"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"subsection",style:{paddingBottom:20},children:[e.jsxs("p",{style:{fontSize:14,color:"var(--text-secondary)",lineHeight:1.7},children:["The math starts with Euler's formula from the 1700s: e",e.jsx("sup",{children:"jÎ¸"})," = cos Î¸ + jÂ·sin Î¸, linking complex exponentials to sinusoids. The practical side began with Edwin Armstrong's superheterodyne receiver (1910sâ€“20s), which introduced frequency mixing â€” the direct ancestor of I/Q downconversion."]}),e.jsxs("p",{style:{fontSize:14,color:"var(--text-secondary)",lineHeight:1.7,marginTop:12},children:["The key insight â€” that you need ",e.jsx("em",{children:"two"})," orthogonal channels to fully represent a signal â€” came from single-sideband radio work in the 1930sâ€“50s. Engineers discovered that a single mixer can't distinguish signals above and below its tuned frequency (",e.jsx("a",{href:"#image-frequency",style:{color:"var(--accent-blue)"},children:"the image problem demonstrated above"}),"). The fix: use both cosine and sine references. R.B. Dome published an influential paper on this in 1946, the same year Dennis Gabor formalized the analytic signal, proving that I/Q is the minimal complete representation of any narrowband signal."]}),e.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",lineHeight:1.7,marginTop:12},children:"The explosion came with digital communications in the 1960sâ€“70s. Modulation schemes like QPSK and QAM encode data by independently controlling amplitude and phase â€” which maps directly to the I and Q axes. Without I/Q, modern Wi-Fi, 4G/5G, GPS, radar, and satellite communications wouldn't exist."})]})})]}),e.jsx("footer",{style:{display:"flex",justifyContent:"center",padding:"20px",color:"var(--text-secondary)",fontSize:13},children:e.jsx("a",{href:"../real/",style:{color:"var(--accent-blue)"},children:"Switch to Real version"})})]})}ne.createRoot(document.getElementById("root")).render(e.jsx(ae.StrictMode,{children:e.jsx(le,{})}));
